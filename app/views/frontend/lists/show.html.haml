- model_class = List
.page-header
  %h1=t '.title', :default => model_class.model_name.human.titleize


%script{:src => "//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js"}
%script{:src => "//google-maps-utility-library-v3.googlecode.com/svn/tags/infobox/1.1.9/src/infobox_packed.js", :type => "text/javascript"}
/ only if you need custom infoboxes


%div{:style => "width: 800px;"}
  #map{:style => "width: 800px; height: 400px;"}

%p
  %strong= model_class.human_attribute_name(:ride_title) + ':'
  %br
  = @list.ride_title
%p
  %strong= model_class.human_attribute_name(:ride_description) + ':'
  %br
  = @list.ride_description
%p
  %strong= model_class.human_attribute_name(:rider_height) + ':'
  %br
  = @list.rider_height
%p
  %strong= model_class.human_attribute_name(:frame_size) + ':'
  %br
  = @list.frame_size
%p
  %strong= model_class.human_attribute_name(:hourly_rental) + ':'
  %br
  = @list.hourly_rental
%p
  %strong= model_class.human_attribute_name(:morning_rental) + ':'
  %br
  = @list.morning_rental
%p
  %strong= model_class.human_attribute_name(:evening_rental) + ':'
  %br
  = @list.evening_rental
%p
  %strong= model_class.human_attribute_name(:daily_rental) + ':'
  %br
  = @list.daily_rental
%p
  %strong= model_class.human_attribute_name(:weekly_rental) + ':'
  %br
  = @list.weekly_rental
%p
  %strong= model_class.human_attribute_name(:willing_to_deliver) + ':'
  %br
  = @list.willing_to_deliver
%p
  %strong= model_class.human_attribute_name(:address) + ':'
  %br
  = @list.address
%p
  %strong= model_class.human_attribute_name(:latitude) + ':'
  %br
  = @list.latitude
%p
  %strong= model_class.human_attribute_name(:longitude) + ':'
  %br
  = @list.longitude  
%p
  %strong= model_class.human_attribute_name(:city) + ':'
  %br
  = @list.city
%p
  %strong= model_class.human_attribute_name(:state) + ':'
  %br
  = @list.state
%p
  %strong= model_class.human_attribute_name(:pincode) + ':'
  %br
  = @list.pincode
%p
  %strong= model_class.human_attribute_name(:landmark) + ':'
  %br
  = @list.landmark

%p
  - if !@list.images.nil?
    - @list.images.each_with_index do |image, index|
      %li{:id => image["public_id"]}
        = image_tag(image["thumbnail_url"])
        = link_to "Delete", image_path(:id => @list.id, :resource => @list.class, :img_pub_id => image["public_id"] ), :method => :delete, data: { confirm: "Are you sure you want to delete this image?" , :remote => true}


%h3 Nearby locations
%ul
  - if !@list.nearbys(3).nil?
    - for list in @list.nearbys(3)
      %li
        = link_to list.address, list
        (#{list.distance.round(2)} miles)  

= link_to t('.back', :default => t("helpers.links.back")), lists_path, :class => 'btn btn-default'
= link_to t('.edit', :default => t("helpers.links.edit")), edit_list_path(@list), :class => 'btn btn-default'
= link_to t('.destroy', :default => t("helpers.links.destroy")), list_path(@list), :method => "delete", :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'btn btn-danger'


:javascript

handler = Gmaps.build('Google');
handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
  markers = handler.addMarkers([
    {
      "lat": 0,
      "lng": 0,
      "picture": {
        "url": "http://people.mozilla.com/~faaborg/files/shiretoko/firefoxIcon/firefox-32.png",
        "width":  32,
        "height": 32
      },
      "infowindow": "hello!"
    }
  ]);
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
});